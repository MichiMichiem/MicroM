{"ast":null,"code":"var _jsxFileName = \"/Users/olegkuftyrev/Downloads/javascript 2/skeleton/src/ui-component/cards/Post/Comment/index.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport PropTypes from 'prop-types';\nimport React from 'react'; // material-ui\n\nimport { makeStyles, useTheme } from '@material-ui/styles';\nimport { Button, ButtonBase, Card, Collapse, FormHelperText, Grid, InputAdornment, Menu, MenuItem, Stack, TextField, Typography, useMediaQuery } from '@material-ui/core'; // third-party\n\nimport * as yup from 'yup';\nimport uniqueId from 'lodash/uniqueId';\nimport { Controller, FormProvider, useForm, useFormContext } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup'; // project imports\n\nimport Reply from './Reply';\nimport Avatar from 'ui-component/extended/Avatar';\nimport AnimateButton from 'ui-component/extended/AnimateButton'; // assets\n\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord';\nimport MoreVertTwoToneIcon from '@material-ui/icons/MoreVertTwoTone';\nimport ThumbUpAltTwoToneIcon from '@material-ui/icons/ThumbUpAltTwoTone';\nimport ReplyTwoToneIcon from '@material-ui/icons/ReplyTwoTone';\nimport AttachmentRoundedIcon from '@material-ui/icons/AttachmentRounded';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst avatarImage = require.context('assets/images/profile', true); // style component\n\n\nconst useStyles = makeStyles(theme => ({\n  textSecondary: {\n    color: theme.palette.secondary.main\n  },\n  avatarRight: { ...theme.typography.commonAvatar,\n    ...theme.typography.smallAvatar,\n    background: theme.palette.mode === 'dark' ? theme.palette.dark.main : theme.palette.secondary.light,\n    color: theme.palette.mode === 'dark' ? theme.palette.dark.light : theme.palette.secondary.dark,\n    zIndex: 1,\n    transition: 'all .2s ease-in-out',\n    '&[aria-controls=\"menu-list-grow\"],&:hover': {\n      background: theme.palette.secondary.main,\n      color: theme.palette.secondary.light\n    }\n  },\n  profileComment: {\n    background: theme.palette.mode === 'dark' ? theme.palette.dark.main : theme.palette.grey[50],\n    padding: '16px 16px 8px',\n    marginTop: '10px'\n  },\n  commentLevel1: {\n    marginLeft: '34px',\n    [theme.breakpoints.down('sm')]: {\n      marginLeft: 0\n    }\n  },\n  btnSecondary: {\n    background: theme.palette.secondary.main,\n    '&:hover,&:focus,&:active': {\n      background: theme.palette.secondary.dark\n    }\n  }\n}));\nconst validationSchema = yup.object().shape({\n  name: yup.string().required('Reply Field is Required')\n}); // ===========================|| COMMENT TEXTFIELD ||=========================== //\n\nconst FormInput = ({\n  bug,\n  label,\n  name,\n  required,\n  ...others\n}) => {\n  _s();\n\n  const {\n    control\n  } = useFormContext();\n  let isError = false;\n  let errorMessage = '';\n\n  if (bug && Object.prototype.hasOwnProperty.call(bug, name)) {\n    isError = true;\n    errorMessage = bug[name].message;\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Controller, {\n      as: TextField,\n      name: name,\n      control: control,\n      defaultValue: \"\",\n      label: label,\n      fullWidth: true,\n      InputLabelProps: {\n        className: required ? 'required-label' : '',\n        required: required || false\n      },\n      error: isError,\n      ...others\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      children: /*#__PURE__*/_jsxDEV(FormHelperText, {\n        error: true,\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n};\n\n_s(FormInput, \"zyAxkz+Wq3InUdCKNlVVi99oElQ=\", false, function () {\n  return [useFormContext];\n});\n\n_c = FormInput;\nFormInput.propTypes = {\n  bug: PropTypes.object,\n  label: PropTypes.string,\n  name: PropTypes.string,\n  required: PropTypes.bool\n}; // ===========================|| SOCIAL PROFILE - COMMENT ||=========================== //\n\nconst Comment = ({\n  comment,\n  handleCommentLikes,\n  handleReplayLikes,\n  postId,\n  replyAdd,\n  user\n}) => {\n  _s2();\n\n  const classes = useStyles();\n  const theme = useTheme();\n  const matchesXS = useMediaQuery(theme.breakpoints.down('sm'));\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const [openReply, setOpenReply] = React.useState(false);\n\n  const handleChangeReply = () => {\n    setOpenReply(prev => !prev);\n  };\n\n  let repliesResult = '';\n\n  if (Object.keys(comment).length > 0 && comment.data.replies && comment.data.replies.length) {\n    repliesResult = comment.data.replies.map((reply, index) => /*#__PURE__*/_jsxDEV(Reply, {\n      postId: postId,\n      commentId: comment.id,\n      onReply: handleChangeReply,\n      reply: reply,\n      handleReplayLikes: handleReplayLikes\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }, this));\n  }\n\n  const methods = useForm({\n    resolver: yupResolver(validationSchema)\n  });\n  const {\n    handleSubmit,\n    errors,\n    reset\n  } = methods;\n\n  const onSubmit = async reply => {\n    handleChangeReply();\n    const replyId = uniqueId('#REPLY_');\n    const newReply = {\n      id: replyId,\n      profile: user,\n      data: {\n        comment: reply.name,\n        likes: {\n          like: false,\n          value: 0\n        },\n        replies: []\n      }\n    };\n    replyAdd(postId, comment.id, newReply);\n    reset({\n      name: ''\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [Object.keys(comment).length > 0 && /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: classes.profileComment,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 1,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              wrap: \"nowrap\",\n              alignItems: \"center\",\n              spacing: 1,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                children: /*#__PURE__*/_jsxDEV(Avatar, {\n                  sx: {\n                    width: 24,\n                    height: 24\n                  },\n                  size: \"small\",\n                  alt: \"User 1\",\n                  src: comment.profile && comment.profile.avatar && avatarImage(`./${comment.profile.avatar}`).default\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: true,\n                zeroMinWidth: true,\n                children: /*#__PURE__*/_jsxDEV(Grid, {\n                  container: true,\n                  alignItems: \"center\",\n                  spacing: 1,\n                  children: [/*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      align: \"left\",\n                      variant: \"h5\",\n                      component: \"div\",\n                      children: comment.profile.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 209,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      align: \"left\",\n                      variant: \"caption\",\n                      children: [/*#__PURE__*/_jsxDEV(FiberManualRecordIcon, {\n                        sx: {\n                          width: '10px',\n                          height: '10px',\n                          opacity: 0.5,\n                          m: '0 5px'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 215,\n                        columnNumber: 53\n                      }, this), ' ', comment.profile.time]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 214,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                className: classes.textActive,\n                children: [/*#__PURE__*/_jsxDEV(ButtonBase, {\n                  sx: {\n                    borderRadius: '12px'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Avatar, {\n                    variant: \"rounded\",\n                    className: classes.avatarRight,\n                    \"aria-controls\": \"menu-comment\",\n                    \"aria-haspopup\": \"true\",\n                    onClick: handleClick,\n                    children: /*#__PURE__*/_jsxDEV(MoreVertTwoToneIcon, {\n                      fontSize: \"inherit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 232,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Menu, {\n                  id: \"menu-comment\",\n                  anchorEl: anchorEl,\n                  keepMounted: true,\n                  open: Boolean(anchorEl),\n                  onClose: handleClose,\n                  variant: \"selectedMenu\",\n                  anchorOrigin: {\n                    vertical: 'bottom',\n                    horizontal: 'right'\n                  },\n                  transformOrigin: {\n                    vertical: 'top',\n                    horizontal: 'right'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                    onClick: handleClose,\n                    children: \"Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                    onClick: handleClose,\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sx: {\n              '&.MuiGrid-root': {\n                pt: 1.5\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              align: \"left\",\n              variant: \"body2\",\n              children: comment.data.comment\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(Stack, {\n              direction: \"row\",\n              spacing: 2,\n              sx: {\n                color: theme.palette.mode === 'dark' ? 'grey.700' : theme.palette.grey[800]\n              },\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: () => handleCommentLikes(postId, comment.id),\n                variant: \"text\",\n                color: \"inherit\",\n                size: \"small\",\n                startIcon: /*#__PURE__*/_jsxDEV(ThumbUpAltTwoToneIcon, {\n                  className: comment.data.likes && comment.data.likes.like ? classes.textSecondary : null\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 45\n                }, this),\n                children: [comment.data.likes && comment.data.likes.value ? comment.data.likes.value : 0, \" likes\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"text\",\n                onClick: handleChangeReply,\n                color: \"inherit\",\n                size: \"small\",\n                startIcon: /*#__PURE__*/_jsxDEV(ReplyTwoToneIcon, {\n                  color: \"primary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 52\n                }, this),\n                children: [comment.data.replies ? comment.data.replies.length : 0, \" reply\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 17\n    }, this), repliesResult, /*#__PURE__*/_jsxDEV(Collapse, {\n      in: openReply,\n      sx: {\n        width: '100%'\n      },\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sx: {\n          pl: {\n            xs: 1,\n            sm: 3\n          },\n          pt: 3\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.commentLevel1,\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit(onSubmit),\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 2,\n              alignItems: \"flex-start\",\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                sx: {\n                  display: {\n                    xs: 'none',\n                    sm: 'block'\n                  }\n                },\n                children: /*#__PURE__*/_jsxDEV(Avatar, {\n                  sx: {\n                    mt: 1.5\n                  },\n                  alt: \"User 1\",\n                  src: comment.profile && comment.profile.avatar && avatarImage(`./${comment.profile.avatar}`).default\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: true,\n                zeroMinWidth: true,\n                sx: {\n                  mt: 1\n                },\n                children: /*#__PURE__*/_jsxDEV(FormProvider, { ...methods,\n                  children: /*#__PURE__*/_jsxDEV(FormInput, {\n                    fullWidth: true,\n                    name: \"name\",\n                    label: \"Write a reply...\",\n                    size: matchesXS ? 'small' : 'medium',\n                    bug: errors,\n                    InputProps: {\n                      label: 'Write a reply...',\n                      startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                        position: \"start\",\n                        children: /*#__PURE__*/_jsxDEV(AttachmentRoundedIcon, {\n                          fontSize: \"small\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 324,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 323,\n                        columnNumber: 53\n                      }, this)\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 314,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                children: /*#__PURE__*/_jsxDEV(AnimateButton, {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    type: \"submit\",\n                    variant: \"contained\",\n                    className: classes.btnSecondary,\n                    size: matchesXS ? 'small' : 'large',\n                    sx: {\n                      mt: 1.5\n                    },\n                    children: \"Reply\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s2(Comment, \"A8CbUf6o6wUPFsxYvi/CyyiQL2Y=\", false, function () {\n  return [useStyles, useTheme, useMediaQuery, useForm];\n});\n\n_c2 = Comment;\nComment.propTypes = {\n  comment: PropTypes.object,\n  postId: PropTypes.string,\n  user: PropTypes.object,\n  commentAdd: PropTypes.func,\n  handleCommentLikes: PropTypes.func,\n  handlePostLikes: PropTypes.func,\n  handleReplayLikes: PropTypes.func,\n  post: PropTypes.object,\n  replyAdd: PropTypes.func\n};\nexport default Comment;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"FormInput\");\n$RefreshReg$(_c2, \"Comment\");","map":{"version":3,"sources":["/Users/olegkuftyrev/Downloads/javascript 2/skeleton/src/ui-component/cards/Post/Comment/index.js"],"names":["PropTypes","React","makeStyles","useTheme","Button","ButtonBase","Card","Collapse","FormHelperText","Grid","InputAdornment","Menu","MenuItem","Stack","TextField","Typography","useMediaQuery","yup","uniqueId","Controller","FormProvider","useForm","useFormContext","yupResolver","Reply","Avatar","AnimateButton","FiberManualRecordIcon","MoreVertTwoToneIcon","ThumbUpAltTwoToneIcon","ReplyTwoToneIcon","AttachmentRoundedIcon","avatarImage","require","context","useStyles","theme","textSecondary","color","palette","secondary","main","avatarRight","typography","commonAvatar","smallAvatar","background","mode","dark","light","zIndex","transition","profileComment","grey","padding","marginTop","commentLevel1","marginLeft","breakpoints","down","btnSecondary","validationSchema","object","shape","name","string","required","FormInput","bug","label","others","control","isError","errorMessage","Object","prototype","hasOwnProperty","call","message","className","propTypes","bool","Comment","comment","handleCommentLikes","handleReplayLikes","postId","replyAdd","user","classes","matchesXS","anchorEl","setAnchorEl","useState","handleClick","event","currentTarget","handleClose","openReply","setOpenReply","handleChangeReply","prev","repliesResult","keys","length","data","replies","map","reply","index","id","methods","resolver","handleSubmit","errors","reset","onSubmit","replyId","newReply","profile","likes","like","value","width","height","avatar","default","opacity","m","time","textActive","borderRadius","Boolean","vertical","horizontal","pt","pl","xs","sm","display","mt","startAdornment","commentAdd","func","handlePostLikes","post"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\n// material-ui\r\nimport { makeStyles, useTheme } from '@material-ui/styles';\r\nimport {\r\n    Button,\r\n    ButtonBase,\r\n    Card,\r\n    Collapse,\r\n    FormHelperText,\r\n    Grid,\r\n    InputAdornment,\r\n    Menu,\r\n    MenuItem,\r\n    Stack,\r\n    TextField,\r\n    Typography,\r\n    useMediaQuery\r\n} from '@material-ui/core';\r\n\r\n// third-party\r\nimport * as yup from 'yup';\r\nimport uniqueId from 'lodash/uniqueId';\r\nimport { Controller, FormProvider, useForm, useFormContext } from 'react-hook-form';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\n\r\n// project imports\r\nimport Reply from './Reply';\r\nimport Avatar from 'ui-component/extended/Avatar';\r\nimport AnimateButton from 'ui-component/extended/AnimateButton';\r\n\r\n// assets\r\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord';\r\nimport MoreVertTwoToneIcon from '@material-ui/icons/MoreVertTwoTone';\r\nimport ThumbUpAltTwoToneIcon from '@material-ui/icons/ThumbUpAltTwoTone';\r\nimport ReplyTwoToneIcon from '@material-ui/icons/ReplyTwoTone';\r\nimport AttachmentRoundedIcon from '@material-ui/icons/AttachmentRounded';\r\n\r\nconst avatarImage = require.context('assets/images/profile', true);\r\n\r\n// style component\r\nconst useStyles = makeStyles((theme) => ({\r\n    textSecondary: {\r\n        color: theme.palette.secondary.main\r\n    },\r\n    avatarRight: {\r\n        ...theme.typography.commonAvatar,\r\n        ...theme.typography.smallAvatar,\r\n        background: theme.palette.mode === 'dark' ? theme.palette.dark.main : theme.palette.secondary.light,\r\n        color: theme.palette.mode === 'dark' ? theme.palette.dark.light : theme.palette.secondary.dark,\r\n        zIndex: 1,\r\n        transition: 'all .2s ease-in-out',\r\n        '&[aria-controls=\"menu-list-grow\"],&:hover': {\r\n            background: theme.palette.secondary.main,\r\n            color: theme.palette.secondary.light\r\n        }\r\n    },\r\n    profileComment: {\r\n        background: theme.palette.mode === 'dark' ? theme.palette.dark.main : theme.palette.grey[50],\r\n        padding: '16px 16px 8px',\r\n        marginTop: '10px'\r\n    },\r\n    commentLevel1: {\r\n        marginLeft: '34px',\r\n        [theme.breakpoints.down('sm')]: {\r\n            marginLeft: 0\r\n        }\r\n    },\r\n    btnSecondary: {\r\n        background: theme.palette.secondary.main,\r\n        '&:hover,&:focus,&:active': {\r\n            background: theme.palette.secondary.dark\r\n        }\r\n    }\r\n}));\r\n\r\nconst validationSchema = yup.object().shape({\r\n    name: yup.string().required('Reply Field is Required')\r\n});\r\n\r\n// ===========================|| COMMENT TEXTFIELD ||=========================== //\r\n\r\nconst FormInput = ({ bug, label, name, required, ...others }) => {\r\n    const { control } = useFormContext();\r\n\r\n    let isError = false;\r\n    let errorMessage = '';\r\n    if (bug && Object.prototype.hasOwnProperty.call(bug, name)) {\r\n        isError = true;\r\n        errorMessage = bug[name].message;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Controller\r\n                as={TextField}\r\n                name={name}\r\n                control={control}\r\n                defaultValue=\"\"\r\n                label={label}\r\n                fullWidth\r\n                InputLabelProps={{\r\n                    className: required ? 'required-label' : '',\r\n                    required: required || false\r\n                }}\r\n                error={isError}\r\n                {...others}\r\n            />\r\n            {errorMessage && (\r\n                <Grid item xs={12}>\r\n                    <FormHelperText error>{errorMessage}</FormHelperText>\r\n                </Grid>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nFormInput.propTypes = {\r\n    bug: PropTypes.object,\r\n    label: PropTypes.string,\r\n    name: PropTypes.string,\r\n    required: PropTypes.bool\r\n};\r\n\r\n// ===========================|| SOCIAL PROFILE - COMMENT ||=========================== //\r\n\r\nconst Comment = ({ comment, handleCommentLikes, handleReplayLikes, postId, replyAdd, user }) => {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const matchesXS = useMediaQuery(theme.breakpoints.down('sm'));\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const [openReply, setOpenReply] = React.useState(false);\r\n    const handleChangeReply = () => {\r\n        setOpenReply((prev) => !prev);\r\n    };\r\n\r\n    let repliesResult = '';\r\n    if (Object.keys(comment).length > 0 && comment.data.replies && comment.data.replies.length) {\r\n        repliesResult = comment.data.replies.map((reply, index) => (\r\n            <Reply\r\n                postId={postId}\r\n                commentId={comment.id}\r\n                key={index}\r\n                onReply={handleChangeReply}\r\n                reply={reply}\r\n                handleReplayLikes={handleReplayLikes}\r\n            />\r\n        ));\r\n    }\r\n\r\n    const methods = useForm({\r\n        resolver: yupResolver(validationSchema)\r\n    });\r\n\r\n    const { handleSubmit, errors, reset } = methods;\r\n    const onSubmit = async (reply) => {\r\n        handleChangeReply();\r\n        const replyId = uniqueId('#REPLY_');\r\n        const newReply = {\r\n            id: replyId,\r\n            profile: user,\r\n            data: {\r\n                comment: reply.name,\r\n                likes: {\r\n                    like: false,\r\n                    value: 0\r\n                },\r\n                replies: []\r\n            }\r\n        };\r\n\r\n        replyAdd(postId, comment.id, newReply);\r\n        reset({ name: '' });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {Object.keys(comment).length > 0 && (\r\n                <Grid item xs={12}>\r\n                    <Card className={classes.profileComment}>\r\n                        <Grid container spacing={1}>\r\n                            <Grid item xs={12}>\r\n                                <Grid container wrap=\"nowrap\" alignItems=\"center\" spacing={1}>\r\n                                    <Grid item>\r\n                                        <Avatar\r\n                                            sx={{ width: 24, height: 24 }}\r\n                                            size=\"small\"\r\n                                            alt=\"User 1\"\r\n                                            src={\r\n                                                comment.profile &&\r\n                                                comment.profile.avatar &&\r\n                                                avatarImage(`./${comment.profile.avatar}`).default\r\n                                            }\r\n                                        />\r\n                                    </Grid>\r\n                                    <Grid item xs zeroMinWidth>\r\n                                        <Grid container alignItems=\"center\" spacing={1}>\r\n                                            <Grid item>\r\n                                                <Typography align=\"left\" variant=\"h5\" component=\"div\">\r\n                                                    {comment.profile.name}\r\n                                                </Typography>\r\n                                            </Grid>\r\n                                            <Grid item>\r\n                                                <Typography align=\"left\" variant=\"caption\">\r\n                                                    <FiberManualRecordIcon\r\n                                                        sx={{ width: '10px', height: '10px', opacity: 0.5, m: '0 5px' }}\r\n                                                    />{' '}\r\n                                                    {comment.profile.time}\r\n                                                </Typography>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                    <Grid item className={classes.textActive}>\r\n                                        <ButtonBase sx={{ borderRadius: '12px' }}>\r\n                                            <Avatar\r\n                                                variant=\"rounded\"\r\n                                                className={classes.avatarRight}\r\n                                                aria-controls=\"menu-comment\"\r\n                                                aria-haspopup=\"true\"\r\n                                                onClick={handleClick}\r\n                                            >\r\n                                                <MoreVertTwoToneIcon fontSize=\"inherit\" />\r\n                                            </Avatar>\r\n                                        </ButtonBase>\r\n                                        <Menu\r\n                                            id=\"menu-comment\"\r\n                                            anchorEl={anchorEl}\r\n                                            keepMounted\r\n                                            open={Boolean(anchorEl)}\r\n                                            onClose={handleClose}\r\n                                            variant=\"selectedMenu\"\r\n                                            anchorOrigin={{\r\n                                                vertical: 'bottom',\r\n                                                horizontal: 'right'\r\n                                            }}\r\n                                            transformOrigin={{\r\n                                                vertical: 'top',\r\n                                                horizontal: 'right'\r\n                                            }}\r\n                                        >\r\n                                            <MenuItem onClick={handleClose}>Edit</MenuItem>\r\n                                            <MenuItem onClick={handleClose}>Delete</MenuItem>\r\n                                        </Menu>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                            <Grid item xs={12} sx={{ '&.MuiGrid-root': { pt: 1.5 } }}>\r\n                                <Typography align=\"left\" variant=\"body2\">\r\n                                    {comment.data.comment}\r\n                                </Typography>\r\n                            </Grid>\r\n                            <Grid item xs={12}>\r\n                                <Stack\r\n                                    direction=\"row\"\r\n                                    spacing={2}\r\n                                    sx={{ color: theme.palette.mode === 'dark' ? 'grey.700' : theme.palette.grey[800] }}\r\n                                >\r\n                                    <Button\r\n                                        onClick={() => handleCommentLikes(postId, comment.id)}\r\n                                        variant=\"text\"\r\n                                        color=\"inherit\"\r\n                                        size=\"small\"\r\n                                        startIcon={\r\n                                            <ThumbUpAltTwoToneIcon\r\n                                                className={comment.data.likes && comment.data.likes.like ? classes.textSecondary : null}\r\n                                            />\r\n                                        }\r\n                                    >\r\n                                        {comment.data.likes && comment.data.likes.value ? comment.data.likes.value : 0} likes\r\n                                    </Button>\r\n                                    <Button\r\n                                        variant=\"text\"\r\n                                        onClick={handleChangeReply}\r\n                                        color=\"inherit\"\r\n                                        size=\"small\"\r\n                                        startIcon={<ReplyTwoToneIcon color=\"primary\" />}\r\n                                    >\r\n                                        {comment.data.replies ? comment.data.replies.length : 0} reply\r\n                                    </Button>\r\n                                </Stack>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Card>\r\n                </Grid>\r\n            )}\r\n            {repliesResult}\r\n            {/* comment - add new replay */}\r\n            <Collapse in={openReply} sx={{ width: '100%' }}>\r\n                <Grid item xs={12} sx={{ pl: { xs: 1, sm: 3 }, pt: 3 }}>\r\n                    <div className={classes.commentLevel1}>\r\n                        <form onSubmit={handleSubmit(onSubmit)}>\r\n                            <Grid container spacing={2} alignItems=\"flex-start\">\r\n                                <Grid item sx={{ display: { xs: 'none', sm: 'block' } }}>\r\n                                    <Avatar\r\n                                        sx={{ mt: 1.5 }}\r\n                                        alt=\"User 1\"\r\n                                        src={\r\n                                            comment.profile && comment.profile.avatar && avatarImage(`./${comment.profile.avatar}`).default\r\n                                        }\r\n                                    />\r\n                                </Grid>\r\n                                <Grid item xs zeroMinWidth sx={{ mt: 1 }}>\r\n                                    <FormProvider {...methods}>\r\n                                        <FormInput\r\n                                            fullWidth\r\n                                            name=\"name\"\r\n                                            label=\"Write a reply...\"\r\n                                            size={matchesXS ? 'small' : 'medium'}\r\n                                            bug={errors}\r\n                                            InputProps={{\r\n                                                label: 'Write a reply...',\r\n                                                startAdornment: (\r\n                                                    <InputAdornment position=\"start\">\r\n                                                        <AttachmentRoundedIcon fontSize=\"small\" />\r\n                                                    </InputAdornment>\r\n                                                )\r\n                                            }}\r\n                                        />\r\n                                    </FormProvider>\r\n                                </Grid>\r\n                                <Grid item>\r\n                                    <AnimateButton>\r\n                                        <Button\r\n                                            type=\"submit\"\r\n                                            variant=\"contained\"\r\n                                            className={classes.btnSecondary}\r\n                                            size={matchesXS ? 'small' : 'large'}\r\n                                            sx={{ mt: 1.5 }}\r\n                                        >\r\n                                            Reply\r\n                                        </Button>\r\n                                    </AnimateButton>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </form>\r\n                    </div>\r\n                </Grid>\r\n            </Collapse>\r\n        </>\r\n    );\r\n};\r\n\r\nComment.propTypes = {\r\n    comment: PropTypes.object,\r\n    postId: PropTypes.string,\r\n    user: PropTypes.object,\r\n    commentAdd: PropTypes.func,\r\n    handleCommentLikes: PropTypes.func,\r\n    handlePostLikes: PropTypes.func,\r\n    handleReplayLikes: PropTypes.func,\r\n    post: PropTypes.object,\r\n    replyAdd: PropTypes.func\r\n};\r\n\r\nexport default Comment;\r\n"]},"metadata":{},"sourceType":"module"}